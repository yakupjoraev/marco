function scrollChest(){const e=document.querySelector(".chest__header");e&&window.addEventListener("scroll",(()=>{e.getBoundingClientRect().top<0?e.classList.add("scroll"):e.classList.remove("scroll")}))}function collectionSlider(){if(!document.querySelector(".collection__slider-container"))return null;const e=document.querySelectorAll(".collection__slider-pagination-item"),t=new Swiper(".collection__slider",{slidesPerView:1.6,centeredSlides:!0,spaceBetween:32,effect:"coverflow",coverflowEffect:{rotate:0,depth:200,stretch:30,modifier:1,scale:.8,slideShadows:!1},on:{init:()=>o(0),slideChange:()=>o(t.realIndex)}});function o(t){e.forEach(((e,o)=>{o===t?e.classList.add("active"):e.classList.remove("active")}))}e.forEach(((e,o)=>{e.addEventListener("click",(()=>{t.slideTo(o)}))}))}function historySlider(){const e=document.querySelector(".history__slider-container"),t=document.querySelector(".history"),o=document.querySelector(".history__btn-size"),s=document.querySelector(".history__toroll"),l=document.querySelector(".history__next"),i=document.querySelector(".history__prev");if(!e||!t||!o)return null;let c;function r(){const e=t.classList.contains("full");c&&c.destroy(!0,!0),c=new Swiper(".history__slider",{slidesPerView:e?1:1.2,centeredSlides:!e,spaceBetween:e?0:32,effect:e?"slide":"coverflow",navigation:!!e&&{nextEl:".history__next",prevEl:".history__prev"},coverflowEffect:e?{}:{rotate:0,depth:200,stretch:30,modifier:1,scale:.8,slideShadows:!1},on:{init:()=>{a(0),u(0)},slideChange:()=>{a(c.realIndex),u(c.realIndex)}}}),e?(l.classList.remove("disabled"),i.classList.remove("disabled")):(l.classList.add("disabled"),i.classList.add("disabled"))}const n=document.querySelectorAll(".history__slider-pagination-item"),d=document.querySelector(".history__slider-pagination-sums");function a(e){n.forEach(((t,o)=>{t.classList.toggle("active",o===e)}))}function u(e){d&&(d.textContent=`${e+1} из ${n.length}`)}n.forEach(((e,t)=>{e.addEventListener("click",(()=>{c.slideTo(t)}))})),r(),o.addEventListener("click",(()=>{t.classList.toggle("full"),r()})),s.addEventListener("click",(()=>{t.classList.toggle("full"),r()}))}function historyReadSlide(){if(!document.querySelector(".history"))return null;const e=document.querySelector(".history__btn-read"),t=document.querySelector(".history__tohistory"),o=document.querySelector(".history__slider");if(e&&o){e.addEventListener("click",(()=>{const e=o.querySelector(".swiper-slide-active");if(e){const t=e.querySelector(".history__slide-info");t&&t.classList.toggle("visible")}})),t.addEventListener("click",(()=>{const e=o.querySelector(".swiper-slide-active");if(e){const t=e.querySelector(".history__slide-info");t&&t.classList.toggle("visible")}}));o.querySelectorAll(".history__slide-btn").forEach((e=>{e.addEventListener("click",(()=>{const e=o.querySelector(".swiper-slide-active");if(e){const t=e.querySelector(".history__slide-info");t&&t.classList.remove("visible")}}))}))}}scrollChest(),collectionSlider(),historySlider(),historyReadSlide(),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".starfalls");if(!e)return null;function t(){const o=document.createElement("div");o.classList.add("starfall"),o.innerHTML='<img src="./img/icons/img-star-2.png" alt="star icon">';const s=100*Math.random();o.style.left=`${s}%`,e.appendChild(o),gsap.fromTo(o,{y:"100%",opacity:0},{y:"-10%",opacity:1,duration:gsap.utils.random(8,15),ease:"power1.out",onComplete:()=>{o.remove(),t()}})}for(let e=0;e<15;e++)setTimeout(t,500*e)}));const openModalBtns=document.querySelectorAll(".open-modal-btn"),closeModalBtns=document.querySelectorAll(".close-modal-btn"),modals=document.querySelectorAll(".modal");openModalBtns.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.modalId;document.getElementById(t).classList.add("show"),document.querySelector(".main__body").classList.add("locked")}))})),closeModalBtns.forEach((e=>{e.addEventListener("click",(()=>{e.closest(".modal").classList.remove("show"),document.querySelector(".main__body").classList.remove("locked")}))})),window.addEventListener("click",(e=>{e.target.classList.contains("modal")&&(e.target.classList.remove("show"),document.querySelector(".main__body").classList.remove("locked"))}));